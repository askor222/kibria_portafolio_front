<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Curved Images</title>
    <meta name="description" content="Curved Images - A-Frame">
    <script src="./js/aframe-master.js"></script>
    <script>
      // Realizar la solicitud HTTP a la API para obtener la URL de la imagen
      fetch('http://127.0.0.1:8000/api/lenguages_imgs/1')
        .then(response => response.json())
        .then(data => {
          // Obtener la URL de la imagen del objeto JSON de la respuesta
          const imageUrl = data.img;

          // Asignar la URL de la imagen a los elementos <a-curvedimage>
          const curvedImages = document.querySelectorAll('a-curvedimage');
          curvedImages.forEach(image => {
            image.setAttribute('src', imageUrl);
          });
        })
        .catch(error => {
          console.error('Error al obtener la imagen desde la API:', error);
        });
    </script>
  </head>
  <body>
    <a-scene
      raycaster="far: 100; objects: [link];"
      cursor="rayOrigin: mouse"
      camera-position
      environment
      info-message="htmlSrc: #messageText">
      <a-assets></a-assets>

      <a-curvedimage radius="5.7" theta-length="180" height="9"
                     rotation="0 90 0" scale="1.2 1.2 1.2"></a-curvedimage>
      <a-curvedimage radius="5.7" theta-length="17" height=".36"
                     opacity="0.2" rotation="0 250 0" position="0 2 0"></a-curvedimage>
      <a-curvedimage radius="5.7" theta-length="72" height="2.6"
                     rotation="0 80 0" position="0 0.7 0" scale="0.6 0.6 0.6"></a-curvedimage>
      <a-curvedimage radius="5.7" theta-length="70" height="3.02"
                     rotation="0 -130 0" scale="0.8 0.8 0.8"></a-curvedimage>

      <a-image position="0 -5 0" rotation="-90 0 0" scale="6 6 6"></a-image>
      <a-entity position="0 0 1.5">
        <a-camera></a-camera>
      </a-entity>
    </a-scene>
  </body>
</html>
